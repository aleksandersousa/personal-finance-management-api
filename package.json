{
  "name": "personal-financial-management-api",
  "version": "1.0.0",
  "description": "Personal Financial Management API with Clean Architecture",
  "main": "index.js",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json",
    "typeorm": "npm run build && npx typeorm -d dist/infra/db/typeorm/config/data-source.js",
    "migration:generate": "npm run typeorm -- migration:generate",
    "migration:run": "npm run typeorm -- migration:run",
    "migration:revert": "npm run typeorm -- migration:revert",
    "docker:dev": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development up",
    "docker:dev:build": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development up --build",
    "docker:dev:logs": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development logs -f",
    "docker:dev:down": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development down",
    "docker:dev:clean": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development down -v --remove-orphans",
    "docker:prod": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production up -d",
    "docker:prod:build": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production up -d --build",
    "docker:prod:logs": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production logs -f",
    "docker:prod:down": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production down",
    "docker:prod:clean": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production down -v --remove-orphans",
    "docker:db:dev": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development up db",
    "docker:db:prod": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production up -d db",
    "docker:db:logs:dev": "docker-compose -f .docker/docker-compose.dev.yml --env-file .env.development logs -f db",
    "docker:db:logs:prod": "docker-compose -f .docker/docker-compose.prod.yml --env-file .env.production logs -f db",
    "obs:dev": "docker-compose up -d",
    "obs:dev:build": "docker-compose up -d --build",
    "obs:dev:down": "docker-compose down",
    "obs:dev:clean": "docker-compose down -v --remove-orphans",
    "obs:dev:logs": "docker-compose logs -f",
    "obs:dev:logs:api": "docker-compose logs -f api",
    "obs:dev:logs:prometheus": "docker-compose logs -f prometheus",
    "obs:dev:logs:grafana": "docker-compose logs -f grafana",
    "obs:dev:restart": "docker-compose restart prometheus grafana",
    "obs:dev:status": "docker-compose ps",
    "obs:dev:metrics": "curl -s http://localhost:3000/api/v1/metrics | head -20",
    "obs:dev:health": "curl -s http://localhost:3000/api/v1/health | jq .",
    "obs:dev:open:grafana": "echo 'Opening Grafana at http://localhost:3001 (admin/admin123)' && (command -v xdg-open >/dev/null && xdg-open http://localhost:3001) || (command -v open >/dev/null && open http://localhost:3001) || echo 'Please open http://localhost:3001 manually'",
    "obs:dev:open:prometheus": "echo 'Opening Prometheus at http://localhost:9090' && (command -v xdg-open >/dev/null && xdg-open http://localhost:9090) || (command -v open >/dev/null && open http://localhost:9090) || echo 'Please open http://localhost:9090 manually'",
    "obs:dev:reset": "docker-compose down && docker volume rm $(docker volume ls -q | grep prometheus_data_dev || true) $(docker volume ls -q | grep grafana_data_dev || true) && docker-compose up -d",
    "obs:logs:tail": "tail -f logs/combined.log",
    "obs:logs:tail:errors": "tail -f logs/error.log",
    "obs:logs:clean": "rm -f logs/*.log && echo 'Logs cleaned'",
    "obs:test": "npm run obs:dev:health && npm run obs:dev:metrics > /dev/null && echo '‚úÖ Observability is working!'",
    "obs:setup": "mkdir -p logs && npm run obs:dev && echo 'üéâ Observability setup complete! Access Grafana at http://localhost:3001'",
    "obs:prod": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml up -d",
    "obs:prod:build": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml up -d --build",
    "obs:prod:down": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml down",
    "obs:prod:clean": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml down -v --remove-orphans",
    "obs:prod:logs": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml logs -f",
    "obs:prod:logs:api": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml logs -f api",
    "obs:prod:logs:prometheus": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml logs -f prometheus",
    "obs:prod:logs:grafana": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml logs -f grafana",
    "obs:prod:restart": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml restart prometheus grafana",
    "obs:prod:status": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml ps",
    "obs:prod:health": "curl -s http://localhost:3000/api/v1/health | jq .",
    "obs:prod:reset": "docker-compose -f docker-compose.yml -f docker-compose.prod.observability.yml down && docker volume rm $(docker volume ls -q | grep prometheus_data_prod || true) $(docker volume ls -q | grep grafana_data_prod || true) && npm run obs:prod",
    "obs:staging": "docker-compose -f docker-compose.yml -f docker-compose.override.yml up -d",
    "obs:staging:down": "docker-compose -f docker-compose.yml -f docker-compose.override.yml down",
    "obs:staging:logs": "docker-compose -f docker-compose.yml -f docker-compose.override.yml logs -f",
    "obs:staging:status": "docker-compose -f docker-compose.yml -f docker-compose.override.yml ps",
    "obs:check:all": "echo 'üîç Checking all environments...' && (npm run obs:dev:health 2>/dev/null && echo '‚úÖ Development: OK' || echo '‚ùå Development: DOWN') && echo 'Use npm run obs:setup if development is down'",
    "obs:monitor": "echo 'üìä Monitoring URLs:' && echo 'Development:' && echo '  - Grafana: http://localhost:3001 (admin/admin123)' && echo '  - Prometheus: http://localhost:9090' && echo '  - API Health: http://localhost:3000/api/v1/health' && echo '  - API Metrics: http://localhost:3000/api/v1/metrics'",
    "obs:backup:dev": "mkdir -p backups && docker run --rm -v api_prometheus_data_dev:/data -v $(pwd)/backups:/backup alpine tar czf /backup/prometheus-dev-$(date +%Y%m%d-%H%M%S).tar.gz -C /data .",
    "obs:backup:prod": "mkdir -p backups && docker run --rm -v api_prometheus_data_prod:/data -v $(pwd)/backups:/backup alpine tar czf /backup/prometheus-prod-$(date +%Y%m%d-%H%M%S).tar.gz -C /data .",
    "obs:help": "echo 'üìö Observability Commands Help:' && echo '' && echo 'üîß Development:' && echo '  npm run obs:dev           - Start all services (API + Observability)' && echo '  npm run obs:dev:down      - Stop all services' && echo '  npm run obs:dev:logs      - View all logs' && echo '  npm run obs:dev:status    - Check services status' && echo '  npm run obs:setup         - First time setup' && echo '' && echo 'üöÄ Production:' && echo '  npm run obs:prod          - Start production observability' && echo '  npm run obs:prod:down     - Stop production observability' && echo '  npm run obs:prod:logs     - View production logs' && echo '' && echo 'üìä Monitoring:' && echo '  npm run obs:monitor       - Show all URLs' && echo '  npm run obs:test          - Test if observability is working' && echo '  npm run obs:logs:tail     - Tail application logs' && echo '' && echo 'üîß Utilities:' && echo '  npm run obs:backup:dev    - Backup development metrics' && echo '  npm run obs:backup:prod   - Backup production metrics' && echo '  npm run obs:help          - Show this help'",
    "deploy:dev": "./scripts/deploy.sh development",
    "deploy:staging": "./scripts/deploy.sh staging",
    "deploy:prod": "./scripts/deploy.sh production",
    "deploy:help": "./scripts/deploy.sh --help",
    "monitor:dev": "./scripts/monitor-deployment.sh development",
    "monitor:staging": "./scripts/monitor-deployment.sh staging",
    "monitor:prod": "./scripts/monitor-deployment.sh production",
    "monitor:all": "./scripts/monitor-deployment.sh all",
    "monitor:help": "./scripts/monitor-deployment.sh --help",
    "ci:setup": "echo 'üöÄ Setting up CI/CD...' && echo '‚úÖ GitHub Actions workflows configured' && echo '‚úÖ Deploy scripts ready' && echo '‚úÖ Monitoring scripts ready' && echo 'üìö Read docs/CI-CD-SETUP.md for complete guide'",
    "ci:validate": "echo 'üîç Validating CI/CD setup...' && ls -la .github/workflows/ && ls -la scripts/ && echo '‚úÖ CI/CD setup validation complete'"
  },
  "keywords": [
    "nestjs",
    "typescript",
    "clean-architecture",
    "typeorm",
    "postgresql",
    "financial-management"
  ],
  "author": "Aleksander Sousa <aleksander-ssousa@outlook.com>",
  "license": "MIT",
  "dependencies": {
    "@nestjs/common": "^10.3.0",
    "@nestjs/config": "^3.1.1",
    "@nestjs/core": "^10.3.0",
    "@nestjs/jwt": "^10.2.0",
    "@nestjs/passport": "^10.0.3",
    "@nestjs/platform-express": "^10.3.0",
    "@nestjs/swagger": "^7.1.17",
    "@nestjs/throttler": "^5.1.1",
    "@nestjs/typeorm": "^10.0.1",
    "bcrypt": "^5.1.1",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.0",
    "helmet": "^7.1.0",
    "passport": "^0.7.0",
    "passport-jwt": "^4.0.1",
    "passport-local": "^1.0.0",
    "pg": "^8.11.3",
    "prom-client": "^15.1.3",
    "reflect-metadata": "^0.1.13",
    "rxjs": "^7.8.2",
    "swagger-ui-express": "^5.0.0",
    "typeorm": "~0.3.17",
    "uuid": "^9.0.1",
    "winston": "^3.17.0"
  },
  "devDependencies": {
    "@nestjs/cli": "^10.2.1",
    "@nestjs/schematics": "^10.0.3",
    "@nestjs/testing": "^10.3.0",
    "@types/bcrypt": "^5.0.2",
    "@types/express": "^4.17.21",
    "@types/jest": "^29.5.11",
    "@types/node": "^20.10.6",
    "@types/passport-jwt": "^4.0.0",
    "@types/passport-local": "^1.0.38",
    "@types/pg": "^8.10.9",
    "@types/supertest": "^6.0.2",
    "@types/uuid": "^9.0.7",
    "@typescript-eslint/eslint-plugin": "^6.16.0",
    "@typescript-eslint/parser": "^6.16.0",
    "eslint": "^8.56.0",
    "eslint-config-prettier": "^9.1.0",
    "eslint-plugin-prettier": "^5.1.2",
    "jest": "^29.7.0",
    "prettier": "^3.1.1",
    "source-map-support": "^0.5.21",
    "sqlite3": "^5.1.7",
    "supertest": "^6.3.4",
    "ts-jest": "^29.1.1",
    "ts-loader": "^9.5.1",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.3.3"
  },
  "repository": "https://github.com/aleksandersousa/personal-finance-management-api.git"
}
